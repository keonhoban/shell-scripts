# ðŸš MLOps ìš´ì˜ ìžë™í™”ë¥¼ ìœ„í•œ Shell Script ëª¨ìŒ

ìš´ì˜ í™˜ê²½ì—ì„œ ë°˜ë³µë˜ëŠ” ìž‘ì—…ë“¤ì„ ìžë™í™”í•˜ê¸° ìœ„í•œ Bash ìŠ¤í¬ë¦½íŠ¸ ëª¨ìŒìž…ë‹ˆë‹¤.

ëª¨ë“  ìŠ¤í¬ë¦½íŠ¸ëŠ” **Ubuntu í™˜ê²½ì—ì„œ ì‹¤ë¬´ ì ìš© ê°€ëŠ¥í•˜ë„ë¡ ì„¤ê³„**ë˜ì—ˆìœ¼ë©°,

**ìœ ì—°í•œ ì¸ìž ì‚¬ìš©, ì•ˆì „í•œ ì˜ˆì™¸ ì²˜ë¦¬, ë¡œê·¸ ê¸°ë¡**ì„ ê¸°ë³¸ìœ¼ë¡œ êµ¬ì„±ë˜ì–´ ìžˆìŠµë‹ˆë‹¤.

---

## ðŸ“ ë””ë ‰í† ë¦¬ êµ¬ì¡°

```
shell_scripts_blog/
â”œâ”€â”€ backup/           # ë°±ì—… ë° ë³µì›
â”œâ”€â”€ data_processing/  # ë¡œê·¸ ì •ë¦¬ ë° ì•„ì¹´ì´ë¸Œ
â”œâ”€â”€ deploy/           # ëª¨ë¸ íŒ¨í‚¤ì§• ë° ë°°í¬
â”œâ”€â”€ monitoring/       # ë””ìŠ¤í¬ ì‚¬ìš©ëŸ‰ ê¸°ë°˜ ì •ë¦¬

```

---

## ðŸ“„ ìŠ¤í¬ë¦½íŠ¸ ìš”ì•½

### ðŸ—‚ï¸ backup

| íŒŒì¼ëª… | ì„¤ëª… |
| --- | --- |
| `backup_daily.sh` | `/home/ubuntu` ë””ë ‰í† ë¦¬ë¥¼ ë§¤ì¼ ì••ì¶• ë°±ì—… í›„ ë¡œê·¸ ê¸°ë¡ |

| ì¸ìž | ì„¤ëª… | ê¸°ë³¸ê°’ |
| --- | --- | --- |
| `$1` | ë°±ì—… ëŒ€ìƒ ë””ë ‰í† ë¦¬ ê²½ë¡œ | `/home/ubuntu` |
| `$2` | ë°±ì—… íŒŒì¼ ì €ìž¥ ë””ë ‰í† ë¦¬ | `/backup/ubuntu_backup` |

---

### ðŸ› ï¸ data_processing

| íŒŒì¼ëª… | ì„¤ëª… |
| --- | --- |
| `log_manager.sh` | ì˜¤ëž˜ëœ ë¡œê·¸ ì‚­ì œ(`clean`) ë˜ëŠ” `.log` íŒŒì¼ ì••ì¶• í›„ ë°±ì—…(`archive`) |

| ì¸ìž | ì„¤ëª… | ê¸°ë³¸ê°’ |
| --- | --- | --- |
| `$1` | ëª¨ë“œ (`clean` ë˜ëŠ” `archive`) | `clean` |
| `$2` | ë¡œê·¸ ê²½ë¡œ | `/var/log` |
| `$3` | ë¡œê·¸ ì €ìž¥ ë””ë ‰í† ë¦¬ | `/backup/logs` |
| `$4` | ê¸°ì¤€ ì¼ ìˆ˜ (ë©°ì¹  ì§€ë‚œ íŒŒì¼ ëŒ€ìƒ) | `30` |

---

### ðŸ“¦ deploy

| íŒŒì¼ëª… | ì„¤ëª… |
| --- | --- |
| `model_package_tool.sh` | ëª¨ë¸ ë””ë ‰í† ë¦¬ ê²€ì‚¬, ì••ì¶•, ë³µì›, ì›ê²© ì „ì†¡ê¹Œì§€ ì²˜ë¦¬ (`check`, `archive`, `restore`, `deploy` ëª¨ë“œ ì‚¬ìš©) |

| ì¸ìž | ì„¤ëª… | ê¸°ë³¸ê°’ |
| --- | --- | --- |
| `$1` | ëª¨ë“œ (`check`, `archive`, `restore`, `deploy`) | `check` |
| `$2` | ëª¨ë¸ ë””ë ‰í† ë¦¬ ê²½ë¡œ | `/opt/ml/models` |
| `$3` | ì••ì¶• íŒŒì¼ëª… | `models.tar.gz` |
| `$4~$6` | `deploy` ëª¨ë“œì—ì„œë§Œ ì‚¬ìš©ë¨: ì‚¬ìš©ìž, í˜¸ìŠ¤íŠ¸, ì›ê²© ê²½ë¡œ | `ubuntu`, `127.0.0.1`, `/opt/ml/models` |

---

### ðŸ”§ monitoring

| íŒŒì¼ëª… | ì„¤ëª… |
| --- | --- |
| `disk_manage.sh` | ë””ìŠ¤í¬ ì‚¬ìš©ëŸ‰ì´ ìž„ê³„ì¹˜ ì´ìƒì¼ ë•Œ ì˜¤ëž˜ëœ ë¡œê·¸ ìžë™ ì‚­ì œ (ì‚­ì œ ì „ ëª©ë¡ ê¸°ë¡ í¬í•¨) |

| ì¸ìž | ì„¤ëª… | ê¸°ë³¸ê°’ |
| --- | --- | --- |
| `$1` | ë¡œê·¸ê°€ ìœ„ì¹˜í•œ ê²½ë¡œ | `/var/log` |
| `$2` | ì‚­ì œ ê¸°ì¤€ ì¼ ìˆ˜ | `5` |
| `$3` | ë””ìŠ¤í¬ ì‚¬ìš©ë¥  ìž„ê³„ì¹˜ (%) | `80` |

---

## ðŸ’¡ ì‹¤í–‰ ì˜ˆì‹œ (ì¸ìž í¬í•¨ ì„¤ëª…)

```bash
# backup_daily.sh: /home/ubuntu â†’ /backup/ubuntu_backup ë¡œ ë°±ì—… (ê¸°ë³¸ê°’ ì‚¬ìš©)
./backup/backup_daily.sh

# log_manager.sh: /var/log ë‚´ 30ì¼ ì´ìƒ ì§€ë‚œ ë¡œê·¸ ì‚­ì œ í›„ /backup/logsì— ê¸°ë¡
./data_processing/log_manager.sh clean /var/log /backup/logs 30

# log_manager.sh: /home/user/project ë‚´ 30ì¼ ì´ìƒ ì§€ë‚œ .log íŒŒì¼ ì••ì¶•í•˜ì—¬ ë°±ì—…
./data_processing/log_manager.sh archive /home/user/project /backup/logs 30

# model_package_tool.sh: ëª¨ë¸ ë””ë ‰í† ë¦¬ ì••ì¶•
./deploy/model_package_tool.sh archive /opt/ml/models model.tar.gz

# model_package_tool.sh: ì›ê²© ì„œë²„ë¡œ ë°°í¬ (model.tar.gz â†’ ubuntu@192.168.1.10:/opt/ml/models)
./deploy/model_package_tool.sh deploy /opt/ml/models model.tar.gz ubuntu 192.168.1.10 /opt/ml/models

# disk_manage.sh: /var/log ê¸°ì¤€, ì‚¬ìš©ë¥  80% ì´ˆê³¼ ì‹œ 5ì¼ ì§€ë‚œ ë¡œê·¸ ì‚­ì œ
./monitoring/disk_manage.sh /var/log 5 80

```

---

## âœ… ì‹œìŠ¤í…œ í™˜ê²½

| í•­ëª© | ì„¤ëª… |
| --- | --- |
| OS | Ubuntu 24.04 ì´ìƒ |
| Shell | bash 5.x ì´ìƒ |
| ë„êµ¬ | `df`, `find`, `tar`, `scp`, `xargs`, `tee`, `ls`, `mkdir`, `awk` ë“± |
| ê¶Œí•œ | ì¼ë¶€ ìŠ¤í¬ë¦½íŠ¸ëŠ” `sudo` í•„ìš” |

---

## **ðŸ** ë§ˆë¬´ë¦¬

> ë°˜ë³µì„ ì¤„ì´ëŠ” ìžë™í™”ë³´ë‹¤ ë” ì¤‘ìš”í•œ ê±´,
> 
> 
> **ìš´ì˜ì„ ì‹ ë¢°í•  ìˆ˜ ìžˆë„ë¡ ë§Œë“œëŠ” ìžë™í™”**ë¼ê³  ìƒê°í•©ë‹ˆë‹¤. ê°ì‚¬í•©ë‹ˆë‹¤! ðŸ˜Š
>
